webpackJsonp([1],{MOcq:function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("IvJb"),l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=o("C7Lr")({name:"App"},l,!1,function(t){o("MOcq")},null,null).exports,s=o("zO6J"),n={data:function(){return{isInfo:!1,folderList:[],modelList:[],isModel:!1,isFolder:!1,modelName:"",templateContent:"",modelPath:"",title:"",folderPath:"",templateName:"",root:"",props:{label:"folderName",id:"folderPath",children:"subNode",isLeaf:"leaf"}}},created:function(){},methods:{getHost:function(t){var e=window.location.host,o=window.location.protocol+e+"/api/mockData?modelName="+t;this.$alert(o,"地址",{confirmButtonText:"确定",type:"info "})},getFoldList:function(t){var e=this;this.$Ajax.post("/api/tmp/list",{folderName:t}).then(function(t){e.folderList=t.data})},getDetail:function(t){this.folderPath=t.folderPath,t.modelList&&(this.modelList=t.modelList)},loadNode:function(t,e){var o=this;if(0===t.level)return e([{folderName:"root",folderPath:""}]);this.$Ajax.post("/api/tmp/list",{folderName:t.data.folderPath}).then(function(a){var l=[],i=[];a.data.subNode&&a.data.subNode.length>0&&a.data.subNode.forEach(function(t){t.folderName&&l.push({folderName:t.folderName,folderPath:t.folderPath}),t.modelName&&i.push({modelName:t.modelName,modelPath:t.modelPath})}),o.modelList=i,o.$set(t.data,"modelList",i),e(l)})},showModel:function(t){t?(this.title="更新模块",this.templateContent=t.templateContent,this.modelName=t.modelName):(this.title="增加模块",this.templateContent="",this.modelName=""),this.isModel=!0},getModelContent:function(t){var e=this;this.modelPath=t.modelPath;var o=this.$loading({background:"rgba(0, 0, 0, 0)"});this.$Ajax.post("/api/tmp/model/get",{modelName:t.modelPath}).then(function(a){o.close(),200===a.status?(t.templateContent=a.data,e.showModel(t)):e.$alert(a.data.message||"读取内容失败","错误提示",{confirmButtonText:"确定",type:"error"})})},addModel:function(t){var e=this,o=this.$loading({background:"rgba(0, 0, 0, 0)"});this.$Ajax.post("/api/tmp/model/save",{modelName:"增加模块"==this.title?this.folderPath+this.modelName:this.modelPath,templateContent:this.templateContent}).then(function(t){o.close(),e.isModel=!1,200===t.status?e.folderList=t.data:e.$alert(t.data.message||"失败","错误提示",{confirmButtonText:"确定",type:"error"})})},addFolder:function(){var t=this,e=this.$loading({background:"rgba(0, 0, 0, 0)"});this.$Ajax.post("/api/tmp/save",{templateName:this.folderPath+this.templateName}).then(function(o){e.close(),t.isFolder=!1,200===o.status?t.folderList=o.data:t.$alert(o.data.message||"增加失败","错误提示",{confirmButtonText:"确定",type:"error"})})}}},r={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",{staticStyle:{margin:"5vh 0"}},[o("el-col",{staticClass:"aside-tree",attrs:{span:6}},[o("el-tree",{attrs:{props:t.props,accordion:"",load:t.loadNode,lazy:"","highlight-current":""},on:{"node-click":t.getDetail}})],1),t._v(" "),o("el-col",{staticClass:"aside-content",attrs:{span:16,offset:1}},[o("div",{staticStyle:{"text-align":"center","line-height":"100px","border-bottom":"1px #999999 solid",position:"relative"}},[o("i",{staticClass:"el-icon-question",on:{click:function(e){t.isInfo=!0}}}),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.isFolder=!0}}},[t._v("增加模块")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showModel()}}},[t._v("增加模板")])],1),t._v(" "),o("div",[o("el-row",{staticStyle:{margin:"40px 20px 0"},attrs:{type:"flex",justify:"space-between"}},t._l(this.modelList,function(e,a){return o("el-col",{key:a,staticClass:"mock-col",attrs:{span:8},nativeOn:{click:function(o){t.getModelContent(e)}}},[t._v("\n              "+t._s(e.modelName)+"\n              "),o("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:function(o){o.stopPropagation(),t.getHost(e.modelPath)}}},[t._v("获取地址")])],1)}))],1)])],1),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isInfo,expression:"isInfo"}],staticClass:"mock_wrapper",on:{click:function(e){t.isInfo=!1}}},[o("iframe",{staticClass:"mock_help",attrs:{src:"./static/info.html",frameborder:"0"}})]),t._v(" "),o("el-dialog",{attrs:{title:"增加模块",visible:t.isFolder,width:"500px",center:""},on:{"update:visible":function(e){t.isFolder=e}}},[o("el-form",{attrs:{"label-width":"80px"}},[o("el-form-item",{attrs:{label:"模块名称"}},[o("el-input",{staticStyle:{color:"rgba(51,51,51,0.6)"},attrs:{placeholder:"模块名称"},model:{value:t.templateName,callback:function(e){t.templateName="string"==typeof e?e.trim():e},expression:"templateName"}})],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small"},on:{click:function(e){t.isFolder=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addFolder}},[t._v("确定")])],1)],1),t._v(" "),o("el-dialog",{attrs:{title:t.title,visible:t.isModel,"custom-class":"dc-dialog",width:"500px",height:"50vh",center:""},on:{"update:visible":function(e){t.isModel=e}}},[o("el-form",{attrs:{"label-width":"80px"}},[o("el-form-item",{attrs:{label:"模板名称"}},[o("el-input",{staticStyle:{color:"rgba(51,51,51,0.6)"},attrs:{maxlength:"20",placeholder:"请输入模板名称"},model:{value:t.modelName,callback:function(e){t.modelName="string"==typeof e?e.trim():e},expression:"modelName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"模块内容"}},[o("el-input",{staticStyle:{color:"rgba(51,51,51,0.6)"},attrs:{placeholder:"请输入模板内容",type:"textarea",autosize:{minRows:4,maxRows:14}},model:{value:t.templateContent,callback:function(e){t.templateContent=e},expression:"templateContent"}})],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small"},on:{click:function(e){t.isModel=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addModel}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]};var d=o("C7Lr")(n,r,!1,function(t){o("yb0I")},null,null).exports;a.default.use(s.a);var c=new s.a({routes:[{path:"/",name:"mockApi",component:d}]}),m=o("H93t"),p=o.n(m),f=(o("TsY+"),o("aozt")),u=o.n(f),h=o("6iV/"),v=o.n(h);a.default.use(p.a),u.a.defaults.baseURL="",u.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",u.a.defaults.transformRequest=function(t){return t&&(t=v.a.stringify(t,{arrayFormat:"brackets"})),t},a.default.prototype.$Ajax=u.a,a.default.config.productionTip=!1,new a.default({el:"#app",router:c,components:{App:i},template:"<App/>"})},"TsY+":function(t,e){},yb0I:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c936ef456b1e063c4161.js.map