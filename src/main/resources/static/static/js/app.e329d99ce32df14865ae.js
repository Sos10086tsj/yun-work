webpackJsonp([1],{CBQ6:function(t,e){},MOcq:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("IvJb"),l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=a("C7Lr")({name:"App"},l,!1,function(t){a("MOcq")},null,null).exports,i=a("zO6J"),n={data:function(){return{folderList:[],modelList:[],isModel:!1,isFolder:!1,modelName:"",templateContent:"",modelPath:"",title:"",folderPath:"",templateName:"",root:"",props:{label:"folderName",id:"folderPath",children:"subNode",isLeaf:"leaf"}}},created:function(){},methods:{getFoldList:function(t){var e=this;this.$Ajax.post("/api/tmp/list",{folderName:t}).then(function(t){e.folderList=t.data})},getDetail:function(t){this.folderPath=t.folderPath,t.modelList&&(this.modelList=t.modelList)},loadNode:function(t,e){var a=this;if(0===t.level)return e([{folderName:"root",folderPath:""}]);this.$Ajax.post("/api/tmp/list",{folderName:t.data.folderPath}).then(function(o){var l=[],s=[];o.data.subNode&&o.data.subNode.length>0&&o.data.subNode.forEach(function(t){t.folderName&&l.push({folderName:t.folderName,folderPath:t.folderPath}),t.modelName&&s.push({modelName:t.modelName,modelPath:t.modelPath})}),a.modelList=s,a.$set(t.data,"modelList",s),e(l)})},showModel:function(t){t?(this.title="更新模块",this.templateContent=t.templateContent,this.modelName=t.modelName):(this.title="增加模块",this.templateContent="",this.modelName=""),this.isModel=!0},getModelContent:function(t){var e=this;this.modelPath=t.modelPath;var a=this.$loading({background:"rgba(0, 0, 0, 0)"});this.$Ajax.post("/api/tmp/model/get",{modelName:t.modelPath}).then(function(o){a.close(),200===o.status?(t.templateContent=o.data,e.showModel(t)):e.$alert(o.data.message||"读取内容失败","错误提示",{confirmButtonText:"确定",type:"error"})})},addModel:function(t){var e=this,a=this.$loading({background:"rgba(0, 0, 0, 0)"});this.$Ajax.post("/api/tmp/model/save",{modelName:"增加模块"==this.title?this.folderPath+this.modelName:this.modelPath,templateContent:this.templateContent}).then(function(t){console.log(t),a.close(),e.isModel=!1,200===t.status?e.folderList=t.data:e.$alert(t.data.message||"失败","错误提示",{confirmButtonText:"确定",type:"error"})})},addFolder:function(){var t=this,e=this.$loading({background:"rgba(0, 0, 0, 0)"});this.$Ajax.post("/api/tmp/save",{templateName:this.folderPath+this.templateName}).then(function(a){e.close(),t.isFolder=!1,200===a.status?t.folderList=a.data:t.$alert(a.data.message||"增加失败","错误提示",{confirmButtonText:"确定",type:"error"})})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticStyle:{margin:"5vh 0"}},[a("el-col",{staticClass:"aside-tree",attrs:{span:6}},[a("el-tree",{attrs:{props:t.props,accordion:"",load:t.loadNode,lazy:"","highlight-current":""},on:{"node-click":t.getDetail}})],1),t._v(" "),a("el-col",{staticClass:"aside-content",attrs:{span:16,offset:1}},[a("div",{staticStyle:{"text-align":"center","line-height":"80px","border-bottom":"1px #999999 solid"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.isFolder=!0}}},[t._v("增加模块")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showModel()}}},[t._v("增加模板")])],1),t._v(" "),a("div",[a("el-row",{staticStyle:{margin:"40px 20px 0"},attrs:{type:"flex",gutter:20,justify:"space-between"}},t._l(this.modelList,function(e,o){return a("el-col",{key:o,staticClass:"mock-col",attrs:{span:8},nativeOn:{click:function(a){t.getModelContent(e)}}},[t._v(t._s(e.modelName))])}))],1)])],1),t._v(" "),a("el-dialog",{attrs:{title:"增加模块",visible:t.isFolder,width:"500px",center:""},on:{"update:visible":function(e){t.isFolder=e}}},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"模块名称"}},[a("el-input",{staticStyle:{color:"rgba(51,51,51,0.6)"},attrs:{placeholder:"模块名称"},model:{value:t.templateName,callback:function(e){t.templateName="string"==typeof e?e.trim():e},expression:"templateName"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.isFolder=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addFolder}},[t._v("确定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.title,visible:t.isModel,"custom-class":"dc-dialog",width:"500px",center:""},on:{"update:visible":function(e){t.isModel=e}}},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"模板名称"}},[a("el-input",{staticStyle:{color:"rgba(51,51,51,0.6)"},attrs:{maxlength:"20",placeholder:"请输入模板名称"},model:{value:t.modelName,callback:function(e){t.modelName="string"==typeof e?e.trim():e},expression:"modelName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"模块内容"}},[a("el-input",{staticStyle:{color:"rgba(51,51,51,0.6)"},attrs:{placeholder:"请输入模板内容",type:"textarea",autosize:{minRows:4,maxRows:14}},model:{value:t.templateContent,callback:function(e){t.templateContent=e},expression:"templateContent"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.isModel=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addModel}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]};var d=a("C7Lr")(n,r,!1,function(t){a("CBQ6")},null,null).exports;o.default.use(i.a);var m=new i.a({routes:[{path:"/",name:"mockApi",component:d}]}),c=a("H93t"),p=a.n(c),u=(a("TsY+"),a("aozt")),f=a.n(u),h=a("6iV/"),v=a.n(h);o.default.use(p.a),f.a.defaults.baseURL="",f.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",f.a.defaults.transformRequest=function(t){return t&&(t=v.a.stringify(t,{arrayFormat:"brackets"})),t},o.default.prototype.$Ajax=f.a,o.default.config.productionTip=!1,new o.default({el:"#app",router:m,components:{App:s},template:"<App/>"})},"TsY+":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e329d99ce32df14865ae.js.map